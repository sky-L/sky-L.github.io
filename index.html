<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/ven/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/ven/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="行走于浩瀚">
<meta property="og:type" content="website">
<meta property="og:title" content="skylee">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="skylee">
<meta property="og:description" content="行走于浩瀚">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="skylee">
<meta name="twitter:description" content="行走于浩瀚">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> skylee </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">skylee</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">抽刀断水水更流</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/12/jd/" itemprop="url">
                  个人简历
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2017-10-12T00:35:26+08:00" content="2017-10-12">
              2017-10-12
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="联系方式">联系方式</h1><ul>
<li>手机：153 8361 5993 </li>
<li>Email：690035384@qq.com</li>
<li>微信号：suqian5993</li>
</ul>
<hr>
<h1 id="个人信息">个人信息</h1><ul>
<li>李凯/男/1989 </li>
<li>专科/太原电力高等专科学院</li>
<li>工作年限：5年</li>
<li>技术博客：<a href="http://sky-l.github.io/archives/" target="_blank" rel="external">http://sky-l.github.io/archives</a> </li>
<li>Github：<a href="http://github.com/sky-l" target="_blank" rel="external">http://github.com/sky-l</a></li>
<li>期望职位：PHP高级程序员</li>
<li>期望薪资：税前月薪25k，特别喜欢的公司可例外</li>
<li>期望城市：北京</li>
</ul>
<hr>
<h1 id="工作经历">工作经历</h1><h2 id="一猫汽车网_（_2016年9月_~_至今_）">一猫汽车网 （ 2016年9月 ~ 至今 ）</h2><h3 id="淘车猫项目">淘车猫项目</h3><p>此项目是一个App商城，我在此项目作为负责人，带领5人的后端开发小组开发历时3个月如期上线。我负责统一梳理业务流程。 </p>
<ul>
<li>制定项目排期，任务按模块分配到人，统一业务层和数据层的调用规范。</li>
<li>编写公共组件代码，短信/邮件/PDF/Excel等等。</li>
<li>串连各个模块的功能，保证需求流程畅通。</li>
<li>编写Api接口框架（二次修改lumen），token认证，数据认证中间件，统一响应。</li>
</ul>
<h3 id="API框架和接口文档项目">API框架和接口文档项目</h3><p>由于各个小组的项目代码都在一个svn库里，且各个项目需要给其他项目提供数据接口。svn代码库愈加臃肿，框架也是公司自己写的，新人来了需要花很久来熟悉框架和代码。最后决定，每个小组抽离出一个接口项目，通过 <code>HTTP</code> 对外提供服务。</p>
<p>我在此项目负责了接口框架和接口文档的调研和实现。</p>
<ul>
<li>文档方面调研了 <code>ApiDoc</code>, 和 <code>Swagger</code>。由于简单性，最后使用了 <code>ApiDoc</code>。</li>
<li>接口框架选用了 <code>Lumen</code>，根据 <code>ApiDoc</code> 的特性，定制了接口实现方式，每个文件为一个接口。</li>
<li>规范接口URI，每个接口分 「项目」「模块」「功能」 三个部分。规范实现代码的路径和放置位置。</li>
<li>统一接口访问域名 <code>api.xx.com/项目/模块/功能</code>，通过 <code>Nginx</code> 转发调用个个项目。 </li>
<li>编写 自动生成文档 脚本</li>
</ul>
<p>现在（2017年5月）各个小组，已经通过 <code>Http</code> 的方式提供数据接口。并且业务代码也从svn的代码抽离，用 <code>Laravel</code> 框架重新实现。每个项目独立化。</p>
<h2 id="联想（北京）公司_（_2014年5月_~_2016年8月_）">联想（北京）公司 （ 2014年5月 ~ 2016年8月 ）</h2><h3 id="微信公众号项目">微信公众号项目</h3><p>把微信公众平台的所有功能接入后台。<br>在做群发时，由于接口限制和用户体验友好，把请求做成队列，后台执行。<br>原理是，根据业务设计表，然后写php的脚本，通过linux的crontab定时执行。<br>操作流程，也避免浏览器假死。</p>
<h3 id="联想论坛">联想论坛</h3><p>二次开发discuz，负责运维和开发。 2014-11月公司有专门部门负责社区，所以把项目转出。 之后开始微信的开发</p>
<h3 id="订单和支付系统">订单和支付系统</h3><p>用laravel框架把微信支付，支付宝支付，银联支付封装成更简易的接口供其他平台接入。 </p>
<h2 id="黄石开创网络有限公司_（_2013年4月_~_2014年5月_）">黄石开创网络有限公司 （ 2013年4月 ~ 2014年5月 ）</h2><h3 id="主要为一些企业站开发">主要为一些企业站开发</h3><p>负责phpcms，discuz等开源项目的二次开发。通过熟悉和阅读开源项目的代码，学习实现流程，为日后的提升做出基础。</p>
<hr>
<h2 id="技术文章">技术文章</h2><ul>
<li><a href="https://laravel-china.org/topics/843/laravel-dependency-injection-principle" target="_blank" rel="external">Laravel 依赖注入原理</a></li>
<li><a href="https://laravel-china.org/topics/3175/api-gateway-kong-installation-and-entry-installation" target="_blank" rel="external">接口限流与权限工具</a> </li>
<li><a href="https://github.com/emaophp/laravel-source-code-analysis/blob/master/docs/emao_container_1.md" target="_blank" rel="external">Laravel源码分析</a></li>
<li><a href="https://github.com/emaophp/laravel-source-code-analysis/blob/master/docs/container_example.md" target="_blank" rel="external">Laravel容器实现</a></li>
</ul>
<h2 id="演讲和讲义">演讲和讲义</h2><ul>
<li>公司内部分享：<a href="http://1.skylee.applinzi.com/coode_design/code.htm?_multiscreen=1" target="_blank" rel="external">常用设计模式</a></li>
</ul>
<hr>
<h1 id="致谢">致谢</h1><p>感谢您花时间阅读我的简历，期待能有机会和您共事。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/31/hello-world/" itemprop="url">
                  hexo使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2017-08-31T14:52:01+08:00" content="2017-08-31">
              2017-08-31
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/介绍/" itemprop="url" rel="index">
                    <span itemprop="name">介绍</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">n</span> <span class="keyword">post</span> <span class="string">"title"</span>#写文章</span><br><span class="line">hexo <span class="keyword">g</span> #生成</span><br><span class="line">hexo s #预览</span><br><span class="line">hexo <span class="keyword">d</span> #部署 #可与hexo <span class="keyword">g</span>合并为 hexo <span class="keyword">d</span> -<span class="keyword">g</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/14/emao-container_1/" itemprop="url">
                  emao-container_1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2017-08-14T16:14:46+08:00" content="2017-08-14">
              2017-08-14
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>16年的时候整理过一篇IOC的实现原理，在进一步之前可先 <a href="./container.md">查看</a><br>然后结合laravel再来看IOC的实现，便会有一种 <code>原来是这样</code> 的感受。从而也会对一直不接触的设计模式有根清晰的认识。</p>
</blockquote>
<p>先来看几个名词</p>
<ul>
<li><a href="#DI">依赖注入</a> （dependency injection）</li>
<li><a href="#IOC">控制反转</a> （Inversion Of Control, IOC）</li>
</ul>
<p><a name="DI"></a></p>
<h3 id="依赖注入">依赖注入</h3><p>这是一个很花哨的名词，如很多设计模式一样，但不了解具体实现的时候就会觉得雨里雾里，不知所云。</p>
<p>先来看一段简单的代码，也是很「经典」的代码</p>
<pre><code>class UserController
{
    publc function getUserInfo(<span class="variable">$id</span>)
    {
           <span class="variable">$model</span> = new UserDao;

           return <span class="variable">$model-</span>&gt;where(<span class="string">'id'</span>, <span class="variable">$id</span>)-&gt;first();
    }
}
</code></pre><p>也许你看出来了，所谓「经典」并不是因为代码有奇妙之处，而是，这样的代码在很多「工程师」的代码里，随处可见。</p>
<p>这样的代码一个很明显的问题便是，「高级代码」依赖「低级代码」，「低级代码」如果出错，哪「高级代码」就完全用不了。</p>
<blockquote>
<p>{tip} 「高级代码」 业务逻辑代码实现，也就是最终呈现给用户的代码。 「低级代码」 数据库操作，文件操作，网络操作等一切为业务服务的代码。 </p>
</blockquote>
<p>来看一段改进</p>
<pre><code>class UserController
{
    protected <span class="variable">$user</span>;

    publc function getUserInfo(User <span class="variable">$user</span>, <span class="variable">$id</span>)
    {         
           return <span class="variable">$user-</span>&gt;where(<span class="string">'id'</span>, <span class="variable">$id</span>)-&gt;first();
    }
}
</code></pre><p>修改以后的业务代码，不需要知道数据从何而来，只需要知道从一个 <code>User</code> 对象能获取到所需要的数据。</p>
<p>这样的方式便叫「依赖注入」，「我」依赖你，但并不是离了「你」就不能活。 </p>
<p><a name="IOC"></a></p>
<h3 id="控制反转">控制反转</h3><p>控制反转是依赖注入的一种改进，在上面的代码中，「高级代码」 想要获取到「低级代码」数据，必须手动传入「User」，这样当「User」作出修改，哪「高级代码」依赖的部分也要做出修改。</p>
<p>利用「控制反转」来实现</p>
<pre><code>class UserController
{
    protected <span class="variable">$user</span>;

    publc function getUserInfo(UserInterface <span class="variable">$user</span>, <span class="variable">$id</span>)
    {         
           return <span class="variable">$user-</span>&gt;where(<span class="string">'id'</span>, <span class="variable">$id</span>)-&gt;first();
    }
}
</code></pre><p>这里注入的是一个「接口」，「高级代码」不依赖具体的实现，而依赖的是实现的接口。这样无论「低级代码」作出怎样的修改，「高级代码」都不需要做任何修改。</p>
<blockquote>
<p>这就是「面向对象」常说的：要面向接口编程，而不是面向实现。</p>
</blockquote>
<h3 id="Laravel容器实现">Laravel容器实现</h3><p>容器的终极目标就是解决「依赖」。让「低级代码」的实现，不会出现在「高级代码」的逻辑中。</p>
<p>通过Laravel的「Route」模块，来分析容器的实现。看 <code>routes/web.php</code> 的内容</p>
<blockquote>
<p>以前，每当学习一个框架的时候，首先看的是控制器，因为比较容易看到效果。</p>
</blockquote>
<pre><code>Route::<span class="keyword">get</span>('/',funtion(){
     <span class="function"><span class="keyword">return</span> <span class="title">view</span><span class="params">(<span class="string">'welcome'</span>)</span></span>;
})
</code></pre><p>初学者往往会以为这里就是框架的入口—因为我们写的业务代码确实是从这里开始的，从而导致了很多人认为请求直接就到了这里。其实不然。</p>
<p>既然 <code>web.php</code> 里可以使用 <code>Route::method</code> ，通过 <a href="./container.md">这篇文章</a> 可以知道，既然这里可以使用，必然有地方进行了「绑定」。</p>
<p>有一个现成的「轮子」，<code>Illuminate\Container</code> （容器） Laravel框架的核心程序便是继承了这个「轮子」，然后把「其他模块」通过「绑定」的方式，组合进了框架。所以 <code>Laravel</code> 的核心代码很少。其中「路由」，「请求」，「响应」等等各个模块都是通过「绑定」的方式组合到一起实现强大的功能。</p>
<p>在进一步之前，确保你已经看懂了Laravel的文档，<a href="https://d.laravel-china.org/docs/5.5/lifecycle" target="_blank" rel="external">请求的生命周期</a>，很多时候最好的学习资料是框架本身提供的文档。</p>
<p>Laravel 通过 <code>Illuminate\Container</code> 提供的 <code>bind</code> <code>instance</code> <code>singleton</code>     等等方式进行「注入」到容器里，再通过<code>make</code> 获取到注入的「实例」「匿名函数」「接口实现」等。</p>
<blockquote>
<p>本来打算写每个函数的用法，然后发现，无论怎么写，都没有官方文档总结的到位。遂放弃，所以建议多读几遍官方文档吧。</p>
</blockquote>
<p>接着上面的 <code>Route</code> 继续看，通过查看 <code>Illuminate\FoundationApplication</code> 可以看到，Laravel通过「Container」注入了路由的「服务提供者」，并把「Container」传给了「服务提供者」</p>
<pre><code><span class="variable">$this-</span>&gt;register(new RoutingServiceProvider(<span class="variable">$this</span>));
</code></pre><p>而后由 <code>RoutingServiceProvider</code> 自己注册实现和所需要的依赖。</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">RoutingServiceProvider</span> <span class="keyword">extends</span> <span class="title">ServiceProvider</span>
</span>{
    <span class="comment">/**
     * Register the service provider.
     *
     * <span class="doctag">@return</span> void
     */</span>
    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span><span class="params">()</span>
    </span>{
        <span class="variable">$this</span>-&gt;registerRouter();

        <span class="variable">$this</span>-&gt;registerUrlGenerator();

        <span class="variable">$this</span>-&gt;registerRedirector();

        <span class="variable">$this</span>-&gt;registerPsrRequest();

        <span class="variable">$this</span>-&gt;registerPsrResponse();

        <span class="variable">$this</span>-&gt;registerResponseFactory();
    }
</code></pre><p>这时候，我们便可以通过 <code>$app[&#39;route&#39;]</code> 或者 <code>$app-&gt;route</code> 来获取到路由的实现，这会执行「容器」的 <code>make</code> 方法。获取到之前注册的内容。</p>
<p>而在<code>web.php</code>里没有这样写，这就涉及到另一个概念 <code>Facade</code>。</p>
<p>看到配置文件 <code>bootstrap/app.php</code></p>
<pre><code>aliases' =&gt; [
    <span class="symbol">'Route'</span> =&gt; <span class="type">Illuminate</span>\<span class="type">Support</span>\<span class="type">Facades</span>\<span class="type">Route</span>::<span class="keyword">class</span>
]
</code></pre><p>当使用 <code>Route</code> 的实际调用的是 <code>Illuminate\Support\Facades\Route::class</code> , <code>Route::method</code> </p>
<p>执行的就是 <code>Illuminate\Support\Facades::__callStatic</code></p>
<pre><code>public static <span class="keyword">function</span> __callStatic(<span class="variable">$method</span>, <span class="variable">$args</span>)
{
    <span class="variable">$instance</span> = static::getFacadeRoot();

    if (! <span class="variable">$instance</span>) {
        throw new RuntimeException(<span class="string">'A facade root has not been set.'</span>);
    }

    return <span class="variable">$instance-</span>&gt;<span class="variable">$method</span>(...<span class="variable">$args</span>);
}
</code></pre><p>其中 </p>
<pre><code><span class="variable">$instance</span> = static::getFacadeRoot();
</code></pre><p>最终调用</p>
<pre><code>protected static <span class="keyword">function</span> resolveFacadeInstance(<span class="variable">$name</span>)
{
    if (is_object(<span class="variable">$name</span>)) {
        return <span class="variable">$name</span>;
    }

    if (isset(static::<span class="variable">$resolvedInstance</span>[<span class="variable">$name</span>])) {
        return static::<span class="variable">$resolvedInstance</span>[<span class="variable">$name</span>];
    }

    return static::<span class="variable">$resolvedInstance</span>[<span class="variable">$name</span>] = static::<span class="variable">$app</span>[<span class="variable">$name</span>];
}
</code></pre><p>可以看到，其实就是调用了 <code>$app[name]</code> ;</p>
<p>到此，通过容器的分析，便可以了解laravel的核心概念了。    </p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/03/2017-diary/" itemprop="url">
                  2017_diary
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2017-01-03T18:23:13+08:00" content="2017-01-03">
              2017-01-03
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>一年过去了，竟然没有什么一件事情可以称为记忆深刻。感觉记忆好模糊的一年啊。</p>
<p>从6月份离开联想到现在，这半年没做过能记得名字的项目。</p>
<p>没有实质性的改变，想写个年终总结都不知道从何写起。一年过了，跟没过似的。只蹉跎了岁月，却毫无长进。</p>
<p>但是。该写个规划啊。毕竟2017第一天上班日。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/07/nfs/" itemprop="url">
                  nfs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-12-07T11:21:29+08:00" content="2016-12-07">
              2016-12-07
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>服务器启动</p>
<p>service rpcbind restart<br>service nfs restart</p>
<p>服务端查看  showmount -e  //查看自己共享的</p>
<p>showmount -a //查看链接的客户端</p>
<p>客户端查看  showmount -e 192.168.33.10<br>客户端挂载  mount -t nfs 192.168.33.10:/data/www/ /data/www/packages-emao<br>客户端挂载时候遇到<br>mount clntudp_create: RPC: Program not registered<br>执行下  rpc.mountd 就可以了</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/16/php-cgi/" itemprop="url">
                  nginx是怎么把请求转发给php的？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-11-16T18:29:45+08:00" content="2016-11-16">
              2016-11-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/介绍/" itemprop="url" rel="index">
                    <span itemprop="name">介绍</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>佛家有人生三重境界之说,即:“看山是山,看水是水;看山不是山,看水不是水;看山还是山,看水还是水。反观学习的各种东西，有那一个不是如此呢。<br>初入门的时候，被问到服务器是怎么解析php的，会很自信的回答，nginx把请求交给php，php把执行结果返回给nginx然后响应给浏览器。这样的回答，应该是没有<br>任何问题的。但是请求是怎么交给php的呢？当时忙碌在每天的业务代码中，无暇也无心来关注这些。</p>
</blockquote>
<p>哪现在再遇到这样的问题呢</p>
<ul>
<li>1，php是这么和nginx接受nginx的请求的 ？  </li>
<li>2，当项目需要多个php版本共存的时候该怎么做 ？</li>
</ul>
<p>要理解nginx怎么转发请求的，需要了解几个概念，Cgi，FastCgi，这些概念不只局限于nginx-php，linux里的进程通信大都基于此。</p>
<h3 id="什么是Cgi,FastCgi，php-fpm_?">什么是Cgi,FastCgi，php-fpm ?</h3><h4 id="CGI">CGI</h4><p>CGI全称是“公共网关接口”(Common Gateway Interface)，HTTP服务器与你的或其它机器上的程序进行“交谈”的一种工具，其程序须运行在网络服务器上。</p>
<p>CGI可以用任何一种语言编写，只要这种语言具有标准输入、输出和环境变量。如php,perl,tcl等。</p>
<h4 id="FastCGI">FastCGI</h4><p>FastCGI像是一个常驻(long-live)型的CGI，它可以一直执行着，只要激活后，不会每次都要花费时间去fork一次（这是CGI最为人诟病的fork-and-execute 模式）。它还支持分布式的运算，即 FastCGI 程序可以在网站服务器以外的主机上执行并且接受来自其它网站服务器来的请求。</p>
<p>FastCGI是语言无关的、可伸缩架构的CGI开放扩展，其主要行为是将CGI解释器进程保持在内存中并因此获得较高的性能。众所周知，CGI解释器的反复加载是CGI性能低下的主要原因，如果CGI解释器保持在内存中并接受FastCGI进程管理器调度，则可以提供良好的性能、伸缩性、Fail- Over特性等等。</p>
<h4 id="PHP-FPM">PHP-FPM</h4><p>PHP-FPM是一个PHP FastCGI管理器，是只用于PHP的。</p>
<p>PHP-FPM其实是PHP源代码的一个补丁，旨在将FastCGI进程管理整合进PHP包中。</p>
<p>在安装时，./configure的时候带 –enable-fpm 参数即可开启PHP-FPM。</p>
<hr>
<p>了解这些我们就知道，通信的流程就是，nginx接受到请求，是通过cgi与php进行通信。<br>具体实现，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">修改php-fpm.conf</span><br><span class="line"></span><br><span class="line">listen = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9000</span></span><br><span class="line">或者</span><br><span class="line">listen = /dev/shm/php-cgi.sock</span><br><span class="line"></span><br><span class="line">修改nginx配置文件server段的配置</span><br><span class="line"></span><br><span class="line">location ~ [^/]\.php(/|$) &#123;</span><br><span class="line">    fastcgi_pass <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9000</span>;</span><br><span class="line">    <span class="preprocessor">#或</span></span><br><span class="line">    fastcgi_pass unix:/dev/shm/php-cgi.sock;</span><br><span class="line">    fastcgi_index index.php;</span><br><span class="line">    include fastcgi.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就引刃而解了第2个问题，可以首先安装多个php版本，通过  –prefix 指定不同的目录,php-fpm启动的时候，可以选择不同的端口，或者不同的sock。然后项目里nginx配置里<br>指定对应的php-fpm就实现了php多个版本共存。</p>
<blockquote>
<p>入IT这一行已经进入了第五个年头，有时候会想工作的意义在哪里。</p>
</blockquote>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/23/container/" itemprop="url">
                  container实现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-08-23T16:36:17+08:00" content="2016-08-23">
              2016-08-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>纸上得来终觉浅，得知此事需躬行。 </p>
</blockquote>
<p>之前看phalcon框架DI的实现方式，觉得很好用，但是由于是c扩展，看不了源码，并不知道是如何实现的，后来看laravel的服务容器，发现是实现了php的SPL接口，然后用这些接口实现的。</p>
<p>一个典型的「container」便是实现了arrayaccess，Demo如下。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="php"><span class="preprocessor">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">skylee</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>   <span class="keyword">__METHOD__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>   <span class="keyword">__METHOD__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 容器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> <span class="keyword">implements</span> \<span class="title">arrayaccess</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$container</span> = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(array <span class="variable">$array</span> = [])</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="variable">$this</span>-&gt;container = <span class="variable">$array</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span><span class="params">(<span class="variable">$id</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$this</span>-&gt;offsetGet(<span class="variable">$id</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">offsetSet</span><span class="params">(<span class="variable">$offset</span>, <span class="variable">$value</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (is_null(<span class="variable">$offset</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable">$this</span>-&gt;container[] = <span class="variable">$value</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable">$this</span>-&gt;container[<span class="variable">$offset</span>] = <span class="variable">$value</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">offsetExists</span><span class="params">(<span class="variable">$offset</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">isset</span>(<span class="variable">$this</span>-&gt;container[<span class="variable">$offset</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">offsetUnset</span><span class="params">(<span class="variable">$offset</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">unset</span>(<span class="variable">$this</span>-&gt;container[<span class="variable">$offset</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">offsetGet</span><span class="params">(<span class="variable">$offset</span>)</span></span><br><span class="line">    </span>&#123; </span><br><span class="line">        <span class="variable">$raw</span> = <span class="variable">$this</span>-&gt;container[<span class="variable">$offset</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$this</span>-&gt;container[<span class="variable">$offset</span>] = <span class="variable">$raw</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span><span class="params">(<span class="variable">$Manage</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="variable">$Manage</span>-&gt;register(<span class="variable">$this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// provide</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span>  <span class="title">ServiceProvide</span> </span><br><span class="line"></span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span><span class="params">(Container <span class="variable">$container</span>)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProvideA</span> <span class="keyword">implements</span> <span class="title">ServiceProvide</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span><span class="params">(Container <span class="variable">$container</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="variable">$container</span>[<span class="string">'A'</span>] = <span class="function"><span class="keyword">function</span> <span class="params">()</span></span><br><span class="line">        </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> skylee\A;  </span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProvideB</span> <span class="keyword">implements</span> <span class="title">ServiceProvide</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span><span class="params">(Container <span class="variable">$container</span>)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="variable">$container</span>[<span class="string">'B'</span>] = <span class="function"><span class="keyword">function</span> <span class="params">()</span></span><br><span class="line">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> skylee\B;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Container</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$service</span> = [</span><br><span class="line">        skylee\ProvideA::class,</span><br><span class="line">        skylee\ProvideB::class</span><br><span class="line">    ];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::__construct();</span><br><span class="line">        </span><br><span class="line">        <span class="variable">$this</span>-&gt;registerProvide();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">registerProvide</span><span class="params">()</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable">$this</span>-&gt;service <span class="keyword">as</span> <span class="variable">$v</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable">$this</span>-&gt;register(<span class="keyword">new</span> <span class="variable">$v</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> App();</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$obj</span>[<span class="string">"A"</span>]-&gt;say();</span><br><span class="line"></span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$obj</span>[<span class="string">"B"</span>]-&gt;say();</span><br><span class="line"></span><br><span class="line">var_dump(<span class="variable">$a</span>);</span><br><span class="line"></span><br><span class="line">var_dump(<span class="variable">$b</span>);</span></span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/19/serve/" itemprop="url">
                  serve
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-08-19T17:38:02+08:00" content="2016-08-19">
              2016-08-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/serve/" itemprop="url" rel="index">
                    <span itemprop="name">serve</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h5 id="备份目录">备份目录</h5><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -av  /var/<span class="class"><span class="keyword">lib</span>/<span class="title">data</span>   /<span class="title">data</span>  </span></span><br><span class="line"></span><br><span class="line">备份  /var/<span class="class"><span class="keyword">lib</span>/<span class="title">data</span> 目录。－<span class="title">a</span> 包含文件权限  －<span class="title">v</span> 显示输出</span></span><br></pre></td></tr></table></figure>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/12/php-trick/" itemprop="url">
                  php奇技淫巧
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-08-12T10:16:31+08:00" content="2016-08-12">
              2016-08-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h4 id="php闭包使用示例">php闭包使用示例</h4><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">class A</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    public function handel(callable <span class="variable">$callback</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        call_user_func_array(<span class="variable">$callback</span>, [<span class="number">1</span>,<span class="number">2</span>]);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = new A();</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj-</span>&gt;handel(<span class="keyword">function</span> (<span class="variable">$a</span>, <span class="variable">$b</span>)</span><br><span class="line">&#123;</span><br><span class="line">    echo <span class="variable">$a</span> . <span class="variable">$b</span>;</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="XML字符串转数组">XML字符串转数组</h4><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$xmlObj</span> = simplexml_load_string(<span class="variable">$xmlStr</span>);</span><br><span class="line"><span class="variable">$xmlArr</span> = json_decode(json_encode(<span class="variable">$xmlObj</span>) , <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 论如何用最好的编程语言获得当天零点的UNIX时间戳</span></span><br><span class="line"><span class="keyword">echo</span> strtotime(<span class="string">"today midnight"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//处理数据</span></span><br><span class="line"><span class="variable">$_POST</span>=array_map(<span class="string">'addslashes'</span>,<span class="variable">$_POST</span>);</span><br></pre></td></tr></table></figure>
<h4 id="A_better_way_to_do_a_lot_of_IF_statements:">A better way to do a lot of IF statements:</h4><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(TRUE)&#123;</span><br><span class="line">  case email_is_valid(<span class="variable">$email</span>):</span><br><span class="line">    // Do something.</span><br><span class="line">    break;</span><br><span class="line">  case username_is_valid(<span class="variable">$user</span>):</span><br><span class="line">    // Do stuff.</span><br><span class="line">    break;</span><br><span class="line">  case pass_too_short(<span class="variable">$pass</span>) &amp;&amp; pass_not_save(<span class="variable">$pass</span>):</span><br><span class="line">    // Other stuff.</span><br><span class="line">    break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/21/diary/" itemprop="url">
                  一句过了半月
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-01-21T20:30:00+08:00" content="2016-01-21">
              2016-01-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/常用包/" itemprop="url" rel="index">
                    <span itemprop="name">常用包</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>转眼都月半了，想着年前的时候还买了一个日记本，每一页都写着日期，以为这样就能多纪录一些东西呢，然后大半个月下来却是寥寥无几。还买了一份字帖，想来练字，一样效果甚微，没有坚持下来。至于跑步每周能跑2到3次，这个还算好一点吧。</p>
<p>今年的工作目标没有达成，挺遗憾吧，然而这都是无可奈何的事，就由它去吧。</p>
<p>成长路上运气占了很大的部分吧，从上学到毕业找工作，一切都很顺利，没经历过什么坎坷，或者换句话说，该来的总会来的，等到了那个时间也就得到了该有的东西。会娶妻生子，会活很长的一段时间。</p>
<p>刚到大一的时候，觉得3年是很长的时间了，工作后才发现3年也就转眼间。</p>
<p>在公司已经是个老人了，身边都是90后，甚至95后。</p>
<p>早上出门的时候飘起了雪，想来是这个冬天最后一场雪吧。</p>
<p>几周前在多看买的一本书，《让孩子心悦诚服》，到现在还是没有看完，最近竟然玩起了游戏，而且停不下来啊，感觉又回到了中学的时候，无知的痴迷起来，耗费了很多闲暇的时间。要多花点时间读书了。</p>
<p>​                               </p>
<p>​    </p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars1.githubusercontent.com/u/3827764?v=3&s=460" alt="skylee" itemprop="image"/>
          <p class="site-author-name" itemprop="name">skylee</p>
        </div>
        <p class="site-description motion-element" itemprop="description">行走于浩瀚</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">skylee</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/ven/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  


  

  
  <script type="text/javascript" src="/ven/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/ven/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/ven/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/ven/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/ven/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
